{"ast":null,"code":"import _classCallCheck from \"C:\\\\projects\\\\react-vsk\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\projects\\\\react-vsk\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\projects\\\\react-vsk\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\projects\\\\react-vsk\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\projects\\\\react-vsk\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\projects\\\\react-vsk\\\\client\\\\src\\\\App\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport GoogleLogin from \"react-google-login\";\nimport ls from \"local-storage\"; //https://medium.com/@siobhanpmahoney/local-storage-in-a-react-single-page-application-34ba30fc977d\n//https://medium.com/@rocksinghajay/login-with-facebook-and-google-in-reactjs-990d818d5dab\n//https://reacttraining.com/react-router/web/api/withRouter ?\n\nvar Login =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  function Login(props, context) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props, context));\n\n    _this.responseGoogle = function (response) {\n      console.log(response); //TODO check error\n\n      if (response.error === undefined) {\n        ls.set(\"user\", response.profileObj);\n\n        _this.redirectToDashboard(true);\n      }\n    };\n\n    _this.redirectToDashboard = function (hasFeedback) {\n      if (hasFeedback) {\n        _this.props.loginSuccess();\n      }\n\n      _this.props.history.push(\"/\");\n    };\n\n    console.log(ls.get(\"user\"));\n\n    if (ls.get(\"user\") !== null) {\n      _this.redirectToDashboard(false);\n    }\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"LOGIN WITH GOOGLE\"), React.createElement(GoogleLogin, {\n        clientId: \"208284925648-u76mj4ulkproaqu8np57pv2444s8deuh.apps.googleusercontent.com\",\n        buttonText: \"LOGIN WITH GOOGLE\",\n        onSuccess: this.responseGoogle,\n        onFailure: this.responseGoogle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["C:\\projects\\react-vsk\\client\\src\\App\\components\\Login.js"],"names":["React","GoogleLogin","ls","Login","props","context","responseGoogle","response","console","log","error","undefined","set","profileObj","redirectToDashboard","hasFeedback","loginSuccess","history","push","get","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,EAAP,MAAe,eAAf,C,CACA;AACA;AACA;;IAEMC,K;;;;;AACJ,iBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,+EAAMD,KAAN,EAAaC,OAAb;;AAD0B,UAQ5BC,cAR4B,GAQX,UAAAC,QAAQ,EAAI;AAC3BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAD2B,CAE3B;;AACA,UAAIA,QAAQ,CAACG,KAAT,KAAmBC,SAAvB,EAAkC;AAChCT,QAAAA,EAAE,CAACU,GAAH,CAAO,MAAP,EAAeL,QAAQ,CAACM,UAAxB;;AACA,cAAKC,mBAAL,CAAyB,IAAzB;AACD;AACF,KAf2B;;AAAA,UAiB5BA,mBAjB4B,GAiBN,UAAAC,WAAW,EAAI;AACnC,UAAIA,WAAJ,EAAiB;AACf,cAAKX,KAAL,CAAWY,YAAX;AACD;;AACD,YAAKZ,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KAtB2B;;AAE1BV,IAAAA,OAAO,CAACC,GAAR,CAAYP,EAAE,CAACiB,GAAH,CAAO,MAAP,CAAZ;;AACA,QAAIjB,EAAE,CAACiB,GAAH,CAAO,MAAP,MAAmB,IAAvB,EAA6B;AAC3B,YAAKL,mBAAL,CAAyB,KAAzB;AACD;;AALyB;AAM3B;;;;6BAkBQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAQE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAC,0EADX;AAEE,QAAA,UAAU,EAAC,mBAFb;AAGE,QAAA,SAAS,EAAE,KAAKR,cAHlB;AAIE,QAAA,SAAS,EAAE,KAAKA,cAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CADF;AAiBD;;;;EA3CiBN,KAAK,CAACoB,S;;AA8C1B,eAAejB,KAAf","sourcesContent":["import React from \"react\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport ls from \"local-storage\";\r\n//https://medium.com/@siobhanpmahoney/local-storage-in-a-react-single-page-application-34ba30fc977d\r\n//https://medium.com/@rocksinghajay/login-with-facebook-and-google-in-reactjs-990d818d5dab\r\n//https://reacttraining.com/react-router/web/api/withRouter ?\r\n\r\nclass Login extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context);\r\n    console.log(ls.get(\"user\"));\r\n    if (ls.get(\"user\") !== null) {\r\n      this.redirectToDashboard(false);\r\n    }\r\n  }\r\n\r\n  responseGoogle = response => {\r\n    console.log(response);\r\n    //TODO check error\r\n    if (response.error === undefined) {\r\n      ls.set(\"user\", response.profileObj);\r\n      this.redirectToDashboard(true);\r\n    }\r\n  };\r\n\r\n  redirectToDashboard = hasFeedback => {\r\n    if (hasFeedback) {\r\n      this.props.loginSuccess();\r\n    }\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        <h1>LOGIN WITH GOOGLE</h1>\r\n\r\n        {/* <FacebookLogin\r\n        appId=\"\" //APP ID NOT CREATED YET\r\n        fields=\"name,email,picture\"\r\n        callback={responseFacebook}\r\n      /> */}\r\n        <GoogleLogin\r\n          clientId=\"208284925648-u76mj4ulkproaqu8np57pv2444s8deuh.apps.googleusercontent.com\"\r\n          buttonText=\"LOGIN WITH GOOGLE\"\r\n          onSuccess={this.responseGoogle}\r\n          onFailure={this.responseGoogle}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}